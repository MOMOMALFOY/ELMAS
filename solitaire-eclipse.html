<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solitaire Éclipse | Elmas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="product-gallery.js" defer></script>
</head>
<body class="product-page">
    <header class="product-page__header">
        <a class="product-page__logo" href="index.html">Elmas</a>
        <a class="product-page__back" href="index.html">Retour à la sélection</a>
    </header>

    <main class="product-main">
        <section class="product-hero">
            <div class="product-gallery js-product-gallery" data-gallery-label="Solitaire Éclipse">
                <div class="product-gallery__viewport">
                    <div class="product-gallery__track">
                        <figure class="product-gallery__slide is-active">
                            <img src="u4363189216_an_oval_diamond_engagement_ring_with_a_yellow_gol_6ad90f9b-2e7c-435c-9b46-9f28f71298d5_3-removebg-preview.png" alt="Solitaire Éclipse - bague ovale en or jaune" loading="lazy">
                        </figure>
                    </div>
                </div>
                <div class="product-gallery__controls">
                    <button class="product-gallery__nav product-gallery__nav--prev" type="button" aria-label="Image précédente">
                        <span aria-hidden="true">‹</span>
                    </button>
                    <div class="product-gallery__pagination" role="tablist" aria-label="Changer d’image">
                        <button class="product-gallery__thumb is-active" type="button" data-slide="0" aria-label="Image 1 sur 1">
                            <img src="u4363189216_an_oval_diamond_engagement_ring_with_a_yellow_gol_6ad90f9b-2e7c-435c-9b46-9f28f71298d5_3-removebg-preview.png" alt="" aria-hidden="true" loading="lazy">
                        </button>
                    </div>
                    <button class="product-gallery__nav product-gallery__nav--next" type="button" aria-label="Image suivante">
                        <span aria-hidden="true">›</span>
                    </button>
                </div>
            </div>
            <div class="product-info">
                <p class="product-eyebrow">Collection Héritage</p>
                <h1 class="product-title">Solitaire Éclipse</h1>
                <p class="product-price">19,99&nbsp;€</p>
                <p class="product-description">
                    Un solitaire ovale à l’éclat solaire, délicatement serti sur une monture affinée. Chaque facette capte la lumière pour sculpter une aura chaleureuse, idéale pour les déclarations précieuses et les promesses éternelles.
                </p>
                <ul class="product-specs">
                    <li>Or jaune 18 carats inspiré des lumières aurore.</li>
                    <li>Pierre centrale taille ovale, façade lumineuse en oxyde de zirconium premium.</li>
                    <li>Manufacturé à la main dans notre atelier parisien, édition limitée.</li>
                </ul>
                <div class="product-actions">
                    <div id="product-component-page-solitaire" class="shopify-buy__mount" aria-live="polite"></div>
                    <p class="product-note">Livraison sécurisée et assurée en 3 à 5 jours ouvrés. Retours offerts sous 30 jours.</p>
                </div>
                <a class="product-cta" href="mailto:contact@elmas-paris.com">Échanger avec un artisan</a>
            </div>
        </section>

        <section class="product-reassurance" aria-labelledby="product-reassurance-title">
            <h2 id="product-reassurance-title" class="product-reassurance__title">Nos engagements livraison</h2>
            <div class="product-reassurance__grid">
                <article class="product-reassurance__item">
                    <img class="product-reassurance__icon" src="livraison.svg" alt="">
                    <div class="product-reassurance__content">
                        <p class="product-reassurance__heading">Livraison signature</p>
                        <p class="product-reassurance__text">Expédition tracée, remise contre signature et présentée dans un écrin scellé, prête à offrir.</p>
                    </div>
                </article>
                <article class="product-reassurance__item">
                    <img class="product-reassurance__icon" src="secure.svg" alt="">
                    <div class="product-reassurance__content">
                        <p class="product-reassurance__heading">Paiement sécurisé</p>
                        <p class="product-reassurance__text">Transaction protégée 3D Secure et authentification renforcée pour chacune de vos commandes.</p>
                    </div>
                </article>
            </div>
        </section>

        <section class="product-details" aria-label="Détails du Solitaire Éclipse">
            <article class="product-details__card">
                <h3 class="product-details__title">Savoir-faire</h3>
                <p class="product-details__description">
                    Chaque bague est montée et polie à la main par deux artisans, suivant un rituel de sertissage inspiré des ateliers de la place Vendôme pour libérer pleinement la lumière de la pierre.
                </p>
            </article>
            <article class="product-details__card">
                <h3 class="product-details__title">Matériaux</h3>
                <p class="product-details__description">
                    Alliage d’or jaune 18 carats certifié RJC et oxyde de zirconium taille diamant. Nous favorisons les circuits courts pour réduire l’empreinte carbone.
                </p>
            </article>
            <article class="product-details__card">
                <h3 class="product-details__title">Entretien</h3>
                <p class="product-details__description">
                    Nettoyage doux à l’eau tiède savonneuse. Un polissage annuel est offert pendant deux ans dans nos ateliers pour préserver la brillance du Solitaire Éclipse.
                </p>
            </article>
        </section>
    </main>

    <!-- Bouton sticky en bas de l'écran -->
    <div class="product-actions-sticky" id="product-actions-sticky">
        <div class="product-actions-sticky__content">
            <p class="product-actions-sticky__security">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Paiement sécurisé
            </p>
            <div class="product-actions-sticky__button">
                <div class="shopify-buy__mount" id="product-component-sticky-solitaire" aria-live="polite"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        (function () {
            const scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';

            const ensureScript = (callback) => {
                const existing = document.querySelector(`script[src="${scriptURL}"]`);
                if (existing) {
                    if (existing.dataset.loaded === 'true') {
                        callback();
                    } else {
                        existing.addEventListener('load', callback, { once: true });
                    }
                    return;
                }

                const script = document.createElement('script');
                script.async = true;
                script.src = scriptURL;
                script.onload = () => {
                    script.dataset.loaded = 'true';
                    callback();
                };
                document.head.appendChild(script);
            };

            const initComponent = () => {
                if (!window.ShopifyBuy || !window.ShopifyBuy.UI) {
                    return;
                }

                const mountNode = document.getElementById('product-component-page-solitaire');
                if (!mountNode || mountNode.dataset.shopifyMount === 'ready') {
                    return;
                }

                const client = window.ShopifyBuy.buildClient({
                    domain: 't1jq01-bd.myshopify.com',
                    storefrontAccessToken: '8cd3f601d0ad9288d5f1449f676572e2',
                });

                const baseOptions = {
                    product: {
                        contents: {
                            img: false,
                            title: false,
                            price: false,
                            options: false,
                        },
                        text: {
                            button: 'Ajouter au panier',
                        },
                        classes: {
                            product: 'collection-card__buy',
                            button: 'collection-card__buy-button',
                        },
                        styles: {
                            product: {
                                'max-width': '100%',
                                'width': '100%',
                                'margin': '0',
                                'text-align': 'center',
                            },
                            button: {
                                'background-color': '#161616',
                                'background-image': 'linear-gradient(135deg, rgba(223, 189, 148, 0.26), rgba(223, 189, 148, 0.08))',
                                'border': '1px solid rgba(255, 223, 189, 0.48)',
                                'box-shadow': 'none',
                                'padding': '12px 22px',
                                'margin': '0',
                                'border-radius': '0',
                                'font-family': '"Poppins", sans-serif',
                                'font-weight': '500',
                                'letter-spacing': '0.22em',
                                'text-transform': 'uppercase',
                                'font-size': '0.75rem',
                                'color': '#f8f2e7',
                                'transition': 'border-color 0.3s ease, background 0.3s ease, transform 0.3s ease',
                                ':hover': {
                                    'background-image': 'linear-gradient(135deg, rgba(228, 198, 161, 0.4), rgba(228, 198, 161, 0.16))',
                                    'border-color': 'rgba(255, 233, 205, 0.85)',
                                    'transform': 'translateY(-1px)',
                                },
                                ':focus': {
                                    'background-image': 'linear-gradient(135deg, rgba(228, 198, 161, 0.4), rgba(228, 198, 161, 0.16))',
                                    'border-color': 'rgba(255, 233, 205, 0.85)',
                                },
                            },
                        },
                    },
                    modalProduct: {
                        contents: {
                            img: true,
                            imgWithCarousel: true,
                            button: false,
                            buttonWithQuantity: true,
                        },
                        text: {
                            button: 'Ajouter au panier',
                        },
                        styles: {
                            product: {
                                'padding': '24px',
                                'background-color': '#111111',
                                'color': '#f4efe6',
                            },
                            button: {
                                'background-color': '#161616',
                                'background-image': 'linear-gradient(135deg, rgba(223, 189, 148, 0.26), rgba(223, 189, 148, 0.08))',
                                'border': '1px solid rgba(255, 223, 189, 0.48)',
                                'box-shadow': 'none',
                                'padding': '12px 22px',
                                'margin-top': '16px',
                                'border-radius': '0',
                                'font-family': '"Poppins", sans-serif',
                                'font-weight': '500',
                                'letter-spacing': '0.2em',
                                'text-transform': 'uppercase',
                                'font-size': '0.75rem',
                                'color': '#f8f2e7',
                                ':hover': {
                                    'background-image': 'linear-gradient(135deg, rgba(228, 198, 161, 0.4), rgba(228, 198, 161, 0.16))',
                                    'border-color': 'rgba(255, 233, 205, 0.85)',
                                },
                                ':focus': {
                                    'background-image': 'linear-gradient(135deg, rgba(228, 198, 161, 0.4), rgba(228, 198, 161, 0.16))',
                                    'border-color': 'rgba(255, 233, 205, 0.85)',
                                },
                            },
                        },
                        classes: {
                            button: 'collection-card__buy-button',
                        },
                    },
                    cart: {
                        styles: {
                            button: {
                                'background-color': '#d5b892',
                                'color': '#121212',
                                'border-radius': '999px',
                                'padding': '14px 20px',
                                ':hover': {
                                    'background-color': '#e2caa9',
                                },
                                ':focus': {
                                    'background-color': '#e2caa9',
                                },
                            },
                            title: {
                                'color': '#f9f4ea',
                            },
                            footer: {
                                'background-color': '#111111',
                            },
                            cart: {
                                'background-color': '#111111',
                                'color': '#e8dfd0',
                            },
                            quantity: {
                                'color': '#121212',
                                'background-color': '#ffffff',
                                'border-color': 'rgba(255, 223, 189, 0.35)',
                            },
                            quantityInput: {
                                'color': '#121212',
                                'background-color': '#ffffff',
                            },
                            quantityButton: {
                                'color': '#121212',
                                'background-color': '#ffffff',
                            },
                        },
                        text: {
                            title: 'Votre sélection',
                            total: 'Sous-total',
                            empty: 'Votre panier est encore vide.',
                            button: 'Valider la commande',
                        },
                    },
                    toggle: {
                        styles: {
                            toggle: {
                                'background-color': '#191919',
                                'color': '#f4efe6',
                                ':hover': {
                                    'background-color': '#232323',
                                },
                                ':focus': {
                                    'background-color': '#232323',
                                },
                            },
                        },
                        text: {
                            title: 'Panier',
                        },
                    },
                };

                window.ShopifyBuy.UI.onReady(client).then((ui) => {
                    mountNode.dataset.shopifyMount = 'ready';
                    ui.createComponent('product', {
                        id: '15173712413058',
                        node: mountNode,
                        moneyFormat: '%E2%82%AC%7B%7Bamount_with_comma_separator%7D%7D',
                        options: JSON.parse(JSON.stringify(baseOptions)),
                    });

                    // Créer aussi le bouton sticky
                    const stickyMountNode = document.getElementById('product-component-sticky-solitaire');
                    if (stickyMountNode && window.innerWidth <= 768) {
                        stickyMountNode.dataset.shopifyMount = 'ready';
                        ui.createComponent('product', {
                            id: '15173712413058',
                            node: stickyMountNode,
                            moneyFormat: '%E2%82%AC%7B%7Bamount_with_comma_separator%7D%7D',
                            options: JSON.parse(JSON.stringify(baseOptions)),
                        });
                    }
                });
            };

            if (window.ShopifyBuy && window.ShopifyBuy.UI) {
                initComponent();
            } else {
                ensureScript(initComponent);
            }
        })();
    </script>

    <script>
        // Afficher le bouton sticky sur mobile
        (function() {
            const stickyButton = document.getElementById('product-actions-sticky');
            if (!stickyButton) return;

            function checkVisibility() {
                if (window.innerWidth <= 768) {
                    stickyButton.classList.add('is-visible');
                } else {
                    stickyButton.classList.remove('is-visible');
                }
            }

            checkVisibility();
            window.addEventListener('resize', checkVisibility);
        })();
    </script>
</body>
</html>

